<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Automatizaciones Website</title>
    <link rel="icon" type="image/x-icon" href="/catarImg/Cris_FavIcon.jpg" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>

  <script>
    
async function webview(){

const urlParams = new URLSearchParams(window.location.search);
const botId = urlParams.get('botId');
const userId = urlParams.get('userId');
const convId = urlParams.get('convId');
const msgBuffer = new TextEncoder().encode(convId + " || " + botId); 
const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
const hashArray = Array.from(new Uint8Array(hashBuffer));
const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
const response = await fetch("https://lo.bc-intg.liveperson.net/thirdparty-services-0.1/webview", {method: "POST", headers: {"content-type":"application/json", "Authorization":hashHex}, body:JSON.stringify({
    "botId": botId,
    "conversationId": convId,
    "userId": userId,
    "message": "webview"
})});
console.log(response);
}
  </script>

  <style>
    body{
      background-color: black;
      color: white;
    }
    #btn{
      background-color: darkblue;
      color: white;
      padding: 14px;
      border-radius: 10px;
    }
  </style>

  <body>
    <div>
      <h1>AUTOMATIZACIONES</h1>
      <button id="btn" >Boton de pago</button>
    </div>
  </body>
</html>
